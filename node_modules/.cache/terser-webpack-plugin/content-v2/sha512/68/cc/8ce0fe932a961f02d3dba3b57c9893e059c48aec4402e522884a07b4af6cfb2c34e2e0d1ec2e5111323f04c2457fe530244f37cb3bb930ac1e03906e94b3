{"code":"(this.webpackJsonpphotogram=this.webpackJsonpphotogram||[]).push([[12],{138:function(e,t,a){\"use strict\";t.a=a.p+\"static/media/unnamed.a1db3f1a.png\"},176:function(e,t,a){},243:function(e,t,a){\"use strict\";a.r(t);var s=a(7),n=a.n(s),r=a(17),c=a(38),i=a(2),u=a(13),o=a(27),l=a(25),p=a(138),d=a(53),j=a(11),b=(a(45),a(176),a(39)),h=a(252),m=a(107),g=a(6);t.default=function(){var e=Object(u.f)(),t=Object(i.useContext)(b.a),a=Object(i.useState)(\"\"),s=Object(c.a)(a,2),f=s[0],O=s[1],x=Object(i.useState)(\"\"),v=Object(c.a)(x,2),_=v[0],w=v[1],N=Object(i.useState)(\"\"),y=Object(c.a)(N,2),C=y[0],S=y[1],k=Object(i.useState)(\"\"),U=Object(c.a)(k,2),P=U[0],A=U[1],L=Object(i.useState)(\"\"),D=Object(c.a)(L,2),E=D[0],J=D[1],I=Object(i.useState)(\"\"),T=Object(c.a)(I,2),W=T[0],Y=T[1],q=\"\"===f.trim()||\"\"===_.trim()||\"\"===C.trim()||\"\"===P.trim()||\"\"===E.trim(),z=function(){var t=Object(r.a)(n.a.mark((function t(a){var s,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,Object(d.d)(_);case 3:if(s=t.sent,P!==E){t.next=30;break}if(s.length){t.next=27;break}return t.prev=6,t.next=9,j.a.auth().createUserWithEmailAndPassword(C,P);case 9:return r=t.sent,t.next=12,r.user.updateProfile({displayName:_});case 12:return t.next=14,j.a.firestore().collection(\"users\").add({userId:r.user.uid,profile_photo:\"\",chat_friends:[],chatUrl:{},username:_.toLowerCase(),fullName:f.toLowerCase(),emailAddress:C.toLowerCase(),following:[r.user.uid],follower:[r.user.uid],dateCreated:Date.now(),profilePicUpdatedAt:\"\",status:\"\"});case 14:e.push(l.b),t.next=25;break;case 17:t.prev=17,t.t0=t.catch(6),O(\"\"),w(\"\"),S(\"\"),A(\"\"),J(\"\"),Y(t.t0.message);case 25:t.next=28;break;case 27:Y(\"This username is already taken\");case 28:t.next=31;break;case 30:Y(\"password and confirm password did not match\");case 31:case\"end\":return t.stop()}}),t,null,[[6,17]])})));return function(e){return t.apply(this,arguments)}}();return t.user?Object(g.jsxs)(\"p\",{children:[\" \",\"Sorry permission denied, You have to SignOout first for entering this page\",\" \"]}):Object(g.jsxs)(\"div\",{className:\"signup\",children:[Object(g.jsx)(\"div\",{className:\"signup__left\",children:Object(g.jsx)(\"img\",{src:p.a,alt:\"signup image\",className:\"signup_image\"})}),Object(g.jsxs)(\"div\",{className:\"signup__right\",children:[Object(g.jsx)(\"h2\",{style:{textAlign:\"center\"},children:\" SignUp\"}),W&&Object(g.jsxs)(\"p\",{style:{color:\"red\"},children:[\" \",W]}),Object(g.jsxs)(\"form\",{onSubmit:z,className:\"signup__form\",children:[Object(g.jsx)(h.a,{type:\"text\",value:_,onChange:function(e){return w(e.target.value)},placeholder:\"Username :\",className:\"signup__input\"}),Object(g.jsx)(h.a,{type:\"text\",value:f,onChange:function(e){return O(e.target.value)},placeholder:\"Name :\",className:\"signup__input\"}),Object(g.jsx)(h.a,{type:\"text\",value:C,onChange:function(e){return S(e.target.value)},placeholder:\"Email\",className:\"signup__input\"}),Object(g.jsx)(h.a,{type:\"password\",value:P,onChange:function(e){return A(e.target.value)},placeholder:\"Password :\",className:\"signup__input\"}),Object(g.jsx)(h.a,{type:\"password\",value:E,onChange:function(e){return J(e.target.value)},placeholder:\"Confirm Password :\",className:\"signup__input\"}),Object(g.jsx)(m.a,{type:\"submit\",disabled:q,className:\"signup__input\",variant:\"contained\",children:\"SignUp\"})]}),Object(g.jsxs)(\"p\",{children:[\" \",\"if you have a account \",Object(g.jsx)(o.b,{to:l.d,children:\"Login\"})]})]})]})}}}]);","name":"static/js/12.ce434c67.chunk.js","map":{"version":3,"sources":["static/js/12.ce434c67.chunk.js"],"names":["this","push","138","module","__webpack_exports__","__webpack_require__","p","176","exports","243","r","G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","_constants_routes__WEBPACK_IMPORTED_MODULE_6__","_images_unnamed_png__WEBPACK_IMPORTED_MODULE_7__","_services_firebase__WEBPACK_IMPORTED_MODULE_8__","firebase__WEBPACK_IMPORTED_MODULE_9__","_context_user__WEBPACK_IMPORTED_MODULE_12__","_material_ui_core__WEBPACK_IMPORTED_MODULE_13__","_material_ui_core__WEBPACK_IMPORTED_MODULE_14__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__","history","Object","user","_useState","_useState2","name","setName","_useState3","_useState4","userName","setUserName","_useState5","_useState6","email","setEmail","_useState7","_useState8","password","setPassword","_useState9","_useState10","confirmPassword","setComfirmPassword","_useState11","_useState12","error","setError","isInvalid","trim","signUp","_ref","a","mark","_callee","e","usernameExists","createdUserResult","wrap","_context","prev","next","preventDefault","sent","length","auth","createUserWithEmailAndPassword","updateProfile","displayName","firestore","collection","add","userId","uid","profile_photo","chat_friends","chatUrl","username","toLowerCase","fullName","emailAddress","following","follower","dateCreated","Date","now","profilePicUpdatedAt","status","t0","message","stop","_x","apply","arguments","children","className","src","alt","style","textAlign","color","onSubmit","type","value","onChange","target","placeholder","disabled","variant","to"],"mappings":"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"},"input":"(this[\"webpackJsonpphotogram\"] = this[\"webpackJsonpphotogram\"] || []).push([[12],{\n\n/***/ 138:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.p + \"static/media/unnamed.a1db3f1a.png\");\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(17);\n/* harmony import */ var G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(27);\n/* harmony import */ var _constants_routes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25);\n/* harmony import */ var _images_unnamed_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(138);\n/* harmony import */ var _services_firebase__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(53);\n/* harmony import */ var firebase__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(11);\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(45);\n/* harmony import */ var _signup_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(176);\n/* harmony import */ var _signup_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_signup_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _context_user__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(39);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(252);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(107);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(6);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__);\nfunction SignUp(){var history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[/* useHistory */ \"f\"])();var user=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"])(_context_user__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"]);var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(\"\"),_useState2=Object(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(\"\"),_useState4=Object(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(\"\"),_useState6=Object(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(\"\"),_useState8=Object(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(\"\"),_useState10=Object(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState9,2),confirmPassword=_useState10[0],setComfirmPassword=_useState10[1];var _useState11=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(\"\"),_useState12=Object(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState11,2),error=_useState12[0],setError=_useState12[1];var isInvalid=name.trim()===\"\"||userName.trim()===\"\"||email.trim()===\"\"||password.trim()===\"\"||confirmPassword.trim()===\"\";var signUp=/*#__PURE__*/function(){var _ref=Object(G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e){var usernameExists,createdUserResult;return G_projects_photogram_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return Object(_services_firebase__WEBPACK_IMPORTED_MODULE_8__[/* doesUsernameExist */ \"d\"])(userName);case 3:usernameExists=_context.sent;if(!(password===confirmPassword)){_context.next=30;break;}if(usernameExists.length){_context.next=27;break;}_context.prev=6;_context.next=9;return firebase__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].auth().createUserWithEmailAndPassword(email,password);case 9:createdUserResult=_context.sent;_context.next=12;return createdUserResult.user.updateProfile({displayName:userName});case 12:_context.next=14;return firebase__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].firestore().collection(\"users\").add({userId:createdUserResult.user.uid,profile_photo:\"\",chat_friends:[],chatUrl:{},username:userName.toLowerCase(),fullName:name.toLowerCase(),emailAddress:email.toLowerCase(),following:[createdUserResult.user.uid],follower:[createdUserResult.user.uid],dateCreated:Date.now(),profilePicUpdatedAt:\"\",status:\"\"});case 14:history.push(_constants_routes__WEBPACK_IMPORTED_MODULE_6__[/* HOME */ \"b\"]);_context.next=25;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](6);setName(\"\");setUserName(\"\");setEmail(\"\");setPassword(\"\");setComfirmPassword(\"\");setError(_context.t0.message);case 25:_context.next=28;break;case 27:setError(\"This username is already taken\");case 28:_context.next=31;break;case 30:setError(\"password and confirm password did not match\");case 31:case\"end\":return _context.stop();}}},_callee,null,[[6,17]]);}));return function signUp(_x){return _ref.apply(this,arguments);};}();return user.user?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"p\",{children:[\" \",\"Sorry permission denied, You have to SignOout first for entering this page\",\" \"]}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{className:\"signup\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"signup__left\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"img\",{src:_images_unnamed_png__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],alt:\"signup image\",className:\"signup_image\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{className:\"signup__right\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"h2\",{style:{textAlign:\"center\"},children:\" SignUp\"}),error&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"p\",{style:{color:\"red\"},children:[\" \",error]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"form\",{onSubmit:signUp,className:\"signup__form\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"],{type:\"text\",value:userName,onChange:function onChange(e){return setUserName(e.target.value);},placeholder:\"Username :\",className:\"signup__input\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"],{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Name :\",className:\"signup__input\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"],{type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email\",className:\"signup__input\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"],{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Password :\",className:\"signup__input\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"],{type:\"password\",value:confirmPassword,onChange:function onChange(e){return setComfirmPassword(e.target.value);},placeholder:\"Confirm Password :\",className:\"signup__input\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"],{type:\"submit\",disabled:isInvalid,className:\"signup__input\",variant:\"contained\",children:\"SignUp\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"p\",{children:[\" \",\"if you have a account \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_5__[/* Link */ \"b\"],{to:_constants_routes__WEBPACK_IMPORTED_MODULE_6__[/* LOGIN */ \"d\"],children:\"Login\"})]})]})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (SignUp);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["G:\\projects\\photogram\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!G:\\projects\\photogram\\src\\images\\unnamed.png","G:\\projects\\photogram\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!G:\\projects\\photogram\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!G:\\projects\\photogram\\node_modules\\postcss-loader\\src\\index.js??postcss!G:\\projects\\photogram\\src\\pages\\signup.css","G:/projects/photogram/src/pages/SignUp.js"],"names":["SignUp","history","useHistory","user","useContext","Usercontext","useState","name","setName","userName","setUserName","email","setEmail","password","setPassword","confirmPassword","setComfirmPassword","error","setError","isInvalid","trim","signUp","e","preventDefault","doesUsernameExist","usernameExists","length","firebase","auth","createUserWithEmailAndPassword","createdUserResult","updateProfile","displayName","firestore","collection","add","userId","uid","profile_photo","chat_friends","chatUrl","username","toLowerCase","fullName","emailAddress","following","follower","dateCreated","Date","now","profilePicUpdatedAt","status","push","ROUTES","message","SignupImage","textAlign","color","target","value"],"mappings":"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","file":"x","sourcesContent":["export default __webpack_public_path__ + \"static/media/unnamed.a1db3f1a.png\";","// extracted by mini-css-extract-plugin","import React, { useState, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport SignupImage from \"../images/unnamed.png\";\r\nimport { doesUsernameExist } from \"../services/firebase\";\r\nimport firebase from \"firebase\";\r\nimport { db, auth } from \"../firebase\";\r\n\r\nimport \"./signup.css\";\r\nimport Usercontext from \"../context/user\";\r\nimport { Button, Input } from \"@material-ui/core\";\r\n\r\nfunction SignUp() {\r\n  const history = useHistory();\r\n  const user = useContext(Usercontext);\r\n  const [name, setName] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setComfirmPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const isInvalid =\r\n    name.trim() === \"\" ||\r\n    userName.trim() === \"\" ||\r\n    email.trim() === \"\" ||\r\n    password.trim() === \"\" ||\r\n    confirmPassword.trim() === \"\";\r\n\r\n  const signUp = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const usernameExists = await doesUsernameExist(userName);\r\n    // console.log(usernameExists);\r\n\r\n    if (password === confirmPassword) {\r\n      if (!usernameExists.length) {\r\n        // console.log(\"hello\");\r\n        try {\r\n          const createdUserResult = await firebase\r\n            .auth()\r\n            .createUserWithEmailAndPassword(email, password);\r\n\r\n          await createdUserResult.user.updateProfile({\r\n            displayName: userName,\r\n          });\r\n\r\n          await firebase\r\n            .firestore()\r\n            .collection(\"users\")\r\n            .add({\r\n              userId: createdUserResult.user.uid,\r\n              profile_photo: \"\",\r\n              chat_friends: [],\r\n              chatUrl: {},\r\n              username: userName.toLowerCase(),\r\n              fullName: name.toLowerCase(),\r\n              emailAddress: email.toLowerCase(),\r\n              following: [createdUserResult.user.uid],\r\n              follower: [createdUserResult.user.uid],\r\n              dateCreated: Date.now(),\r\n              profilePicUpdatedAt: \"\",\r\n              status: \"\",\r\n            });\r\n          history.push(ROUTES.HOME);\r\n        } catch (error) {\r\n          setName(\"\");\r\n          setUserName(\"\");\r\n          setEmail(\"\");\r\n          setPassword(\"\");\r\n          setComfirmPassword(\"\");\r\n          setError(error.message);\r\n        }\r\n      } else {\r\n        setError(\"This username is already taken\");\r\n      }\r\n    } else {\r\n      setError(\"password and confirm password did not match\");\r\n    }\r\n  };\r\n\r\n  return user.user ? (\r\n    <p>\r\n      {\" \"}\r\n      Sorry permission denied, You have to SignOout first for entering this page{\" \"}\r\n    </p>\r\n  ) : (\r\n    <div className=\"signup\">\r\n      <div className=\"signup__left\">\r\n        <img src={SignupImage} alt=\"signup image\" className=\"signup_image\" />\r\n      </div>\r\n      <div className=\"signup__right\">\r\n        <h2 style={{ textAlign: \"center\" }}> SignUp</h2>\r\n        {error && <p style={{ color: \"red\" }}> {error}</p>}\r\n        <form onSubmit={signUp} className=\"signup__form\">\r\n          <Input\r\n            type=\"text\"\r\n            value={userName}\r\n            onChange={(e) => setUserName(e.target.value)}\r\n            placeholder=\"Username :\"\r\n            className=\"signup__input\"\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            placeholder=\"Name :\"\r\n            className=\"signup__input\"\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            placeholder=\"Email\"\r\n            className=\"signup__input\"\r\n          />\r\n\r\n          <Input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Password :\"\r\n            className=\"signup__input\"\r\n          />\r\n\r\n          <Input\r\n            type=\"password\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setComfirmPassword(e.target.value)}\r\n            placeholder=\"Confirm Password :\"\r\n            className=\"signup__input\"\r\n          />\r\n          <Button type=\"submit\" disabled={isInvalid} className=\"signup__input\" variant=\"contained\">\r\n            SignUp\r\n          </Button>\r\n        </form>\r\n        <p>\r\n          {\" \"}\r\n          if you have a account <Link to={ROUTES.LOGIN}>Login</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n"]}}