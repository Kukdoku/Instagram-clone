{"ast":null,"code":"import _regeneratorRuntime from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import\"./header.css\";import imagelogo from\"../images/photogram.png\";import{Avatar,Button}from\"@material-ui/core\";import{Chat,ExitToApp,Explore,PermMedia}from\"@material-ui/icons\";import{Link,useHistory}from\"react-router-dom\";import firebase from\"firebase\";import Usercontext from\"../context/user\";import{findActiveUser}from\"../services/firebase\";import*as ROUTES from\"../constants/routes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var history=useHistory();var user=useContext(Usercontext);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),activeUser=_useState2[0],setActiveUser=_useState2[1];useEffect(function(){function getMyUser(){return _getMyUser.apply(this,arguments);}function _getMyUser(){_getMyUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return findActiveUser(user.user.uid);case 2:response=_context.sent;setActiveUser(response);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getMyUser.apply(this,arguments);}if(user.user){getMyUser();}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"header__left\",children:[/*#__PURE__*/_jsx(\"img\",{src:imagelogo,alt:\"WebsiteLogo\\uD83D\\uDE80\",className:\"header__logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"header__link\",children:\"KukDoKu\"})]})}),user.user?/*#__PURE__*/_jsxs(\"div\",{className:\"header__right__signin\",children:[/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(Link,{to:\"/universal\",children:/*#__PURE__*/_jsx(Explore,{})})}),/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(Link,{to:\"/chat/home\",children:/*#__PURE__*/_jsx(Chat,{})})}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:function onClick(){history.push(ROUTES.HOME);firebase.auth().signOut();// window.location.reload();\n},onKeyDown:function onKeyDown(event){if(event.key===\"Enter\"){firebase.auth().signOut();window.location.reload();history.push(ROUTES.HOME);}},children:/*#__PURE__*/_jsx(ExitToApp,{})}),/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(user.user.uid),children:activeUser?activeUser[0].profile_photo!==\"\"?/*#__PURE__*/_jsx(Avatar,{src:activeUser[0].profile_photo,style:{border:\"2px solid red\"}}):/*#__PURE__*/_jsx(Avatar,{style:{border:\"2px solid red \"}}):/*#__PURE__*/_jsx(Avatar,{style:{border:\"2px solid red \"}})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"header__right__signout\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsx(Button,{children:\"SignIn\"})}),/*#__PURE__*/_jsx(Link,{to:\"/SignUp\",style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsx(Button,{children:\" SignUp\"})})]})]});}export default Header;","map":{"version":3,"sources":["G:/projects/photogram/src/components/Header.js"],"names":["React","useState","useContext","useEffect","imagelogo","Avatar","Button","Chat","ExitToApp","Explore","PermMedia","Link","useHistory","firebase","Usercontext","findActiveUser","ROUTES","Header","history","user","activeUser","setActiveUser","getMyUser","uid","response","textDecoration","push","HOME","auth","signOut","event","key","window","location","reload","profile_photo","border"],"mappings":"iaAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OAASC,MAAT,CAAiBC,MAAjB,KAA+B,mBAA/B,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,OAA1B,CAAmCC,SAAnC,KAAoD,oBAApD,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,OAASC,cAAT,KAA+B,sBAA/B,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,qBAAxB,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CACA,GAAMO,CAAAA,IAAI,CAAGjB,UAAU,CAACY,WAAD,CAAvB,CACA,cAAoCb,QAAQ,CAAC,IAAD,CAA5C,wCAAOmB,UAAP,eAAmBC,aAAnB,eAEAlB,SAAS,CAAC,UAAM,SACCmB,CAAAA,SADD,qIACd,sKACyBP,CAAAA,cAAc,CAACI,IAAI,CAACA,IAAL,CAAUI,GAAX,CADvC,QACQC,QADR,eAEEH,aAAa,CAACG,QAAD,CAAb,CAFF,sDADc,4CAMd,GAAIL,IAAI,CAACA,IAAT,CAAe,CACbG,SAAS,GACV,CACF,CATQ,CASN,EATM,CAAT,CAWA,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,KAAK,CAAE,CAAEG,cAAc,CAAE,MAAlB,CAApB,uBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,GAAG,CAAErB,SAAV,CAAqB,GAAG,CAAC,yBAAzB,CAAyC,SAAS,CAAC,cAAnD,EADF,cAEE,WAAI,SAAS,CAAC,cAAd,qBAFF,GADF,EADF,CAQGe,IAAI,CAACA,IAAL,cACC,aAAK,SAAS,CAAC,uBAAf,wBAEE,KAAC,MAAD,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,YAAT,uBACE,KAAC,OAAD,IADF,EADF,EAFF,cAWE,KAAC,MAAD,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,YAAT,uBACE,KAAC,IAAD,IADF,EADF,EAXF,cAiBE,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,kBAAM,CACbD,OAAO,CAACQ,IAAR,CAAaV,MAAM,CAACW,IAApB,EACAd,QAAQ,CAACe,IAAT,GAAgBC,OAAhB,GACA;AACD,CANH,CAOE,SAAS,CAAE,mBAACC,KAAD,CAAW,CACpB,GAAIA,KAAK,CAACC,GAAN,GAAc,OAAlB,CAA2B,CACzBlB,QAAQ,CAACe,IAAT,GAAgBC,OAAhB,GAEAG,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACAhB,OAAO,CAACQ,IAAR,CAAaV,MAAM,CAACW,IAApB,EACD,CACF,CAdH,uBAgBE,KAAC,SAAD,IAhBF,EAjBF,cAmCE,KAAC,IAAD,EAAM,EAAE,oBAAcR,IAAI,CAACA,IAAL,CAAUI,GAAxB,CAAR,UACGH,UAAU,CACTA,UAAU,CAAC,CAAD,CAAV,CAAce,aAAd,GAAgC,EAAhC,cACE,KAAC,MAAD,EACE,GAAG,CAAEf,UAAU,CAAC,CAAD,CAAV,CAAce,aADrB,CAEE,KAAK,CAAE,CAAEC,MAAM,CAAE,eAAV,CAFT,EADF,cAME,KAAC,MAAD,EAAQ,KAAK,CAAE,CAAEA,MAAM,CAAE,gBAAV,CAAf,EAPO,cAUT,KAAC,MAAD,EAAQ,KAAK,CAAE,CAAEA,MAAM,CAAE,gBAAV,CAAf,EAXJ,EAnCF,GADD,cAoDC,aAAK,SAAS,CAAC,wBAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,KAAK,CAAE,CAAEX,cAAc,CAAE,MAAlB,CAAzB,uBACE,KAAC,MAAD,qBADF,EADF,cAIE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,KAAK,CAAE,CAAEA,cAAc,CAAE,MAAlB,CAA1B,uBACE,KAAC,MAAD,sBADF,EAJF,GA5DJ,GADF,CAwED,CAED,cAAeR,CAAAA,MAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./header.css\";\r\nimport imagelogo from \"../images/photogram.png\";\r\nimport { Avatar, Button } from \"@material-ui/core\";\r\nimport { Chat, ExitToApp, Explore, PermMedia } from \"@material-ui/icons\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport firebase from \"firebase\";\r\n\r\nimport Usercontext from \"../context/user\";\r\nimport { findActiveUser } from \"../services/firebase\";\r\nimport * as ROUTES from \"../constants/routes\";\r\n\r\nfunction Header() {\r\n  const history = useHistory();\r\n  const user = useContext(Usercontext);\r\n  const [activeUser, setActiveUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getMyUser() {\r\n      const response = await findActiveUser(user.user.uid);\r\n      setActiveUser(response);\r\n    }\r\n\r\n    if (user.user) {\r\n      getMyUser();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n        <div className=\"header__left\">\r\n          <img src={imagelogo} alt=\"WebsiteLogoðŸš€\" className=\"header__logo\" />\r\n          <h2 className=\"header__link\">KukDoKu</h2>\r\n        </div>\r\n      </Link>\r\n\r\n      {user.user ? (\r\n        <div className=\"header__right__signin\">\r\n          {/* universal */}\r\n          <Button>\r\n            <Link to=\"/universal\">\r\n              <Explore />\r\n            </Link>\r\n          </Button>\r\n          {/* user Profile */}\r\n\r\n          {/* chat PlatForm */}\r\n\r\n          <Button>\r\n            <Link to=\"/chat/home\">\r\n              <Chat />\r\n            </Link>\r\n          </Button>\r\n          {/* SignOut */}\r\n          <Button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              history.push(ROUTES.HOME);\r\n              firebase.auth().signOut();\r\n              // window.location.reload();\r\n            }}\r\n            onKeyDown={(event) => {\r\n              if (event.key === \"Enter\") {\r\n                firebase.auth().signOut();\r\n\r\n                window.location.reload();\r\n                history.push(ROUTES.HOME);\r\n              }\r\n            }}\r\n          >\r\n            <ExitToApp />\r\n          </Button>\r\n          <Link to={`/profile/${user.user.uid}`}>\r\n            {activeUser ? (\r\n              activeUser[0].profile_photo !== \"\" ? (\r\n                <Avatar\r\n                  src={activeUser[0].profile_photo}\r\n                  style={{ border: \"2px solid red\" }}\r\n                />\r\n              ) : (\r\n                <Avatar style={{ border: \"2px solid red \" }} />\r\n              )\r\n            ) : (\r\n              <Avatar style={{ border: \"2px solid red \" }} />\r\n            )}\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"header__right__signout\">\r\n          <Link to=\"/login\" style={{ textDecoration: \"none\" }}>\r\n            <Button>SignIn</Button>\r\n          </Link>\r\n          <Link to=\"/SignUp\" style={{ textDecoration: \"none\" }}>\r\n            <Button> SignUp</Button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}