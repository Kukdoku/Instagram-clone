{"ast":null,"code":"var _jsxFileName = \"G:\\\\projects\\\\photogram\\\\src\\\\components\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Usercontext from \"../context/user\";\nimport { findActiveUser, getAllPosts } from \"../services/firebase\";\nimport Post from \"./Post\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const user = useContext(Usercontext);\n  const [posts, setPosts] = useState(null);\n  useEffect(() => {\n    async function getAllFollowingPosts() {\n      const activeUser = await findActiveUser(user.user.uid);\n      let following = await activeUser[0].following; // console.log(follower[0].following);\n\n      const allfollowingPosts = await getAllPosts(following); // console.log(allfollowingPosts);\n\n      setPosts(allfollowingPosts);\n    } // console.log(\"userid\", userId);\n\n\n    if (user.user) {\n      getAllFollowingPosts();\n    }\n  }, []); // console.log(posts);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: posts ? posts.map(post => /*#__PURE__*/_jsxDEV(Post, {\n      postId: post.postId,\n      uploaderId: post.user_uid\n    }, post.postId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 29\n    }, this)) : /*#__PURE__*/_jsxDEV(Post, {\n      post: null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Dashboard, \"4U+UIypyNjdFKMpC7k9eZu2YDbw=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["G:/projects/photogram/src/components/Dashboard.js"],"names":["Skeleton","React","useState","useEffect","useContext","Usercontext","findActiveUser","getAllPosts","Post","Dashboard","user","posts","setPosts","getAllFollowingPosts","activeUser","uid","following","allfollowingPosts","map","post","postId","user_uid"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,2BAArB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,SAASC,cAAT,EAAyBC,WAAzB,QAA4C,sBAA5C;AACA,OAAOC,IAAP,MAAiB,QAAjB;;;AAEA,SAASC,SAAT,GAAqB;AAAA;;AACnB,QAAMC,IAAI,GAAGN,UAAU,CAACC,WAAD,CAAvB;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeU,oBAAf,GAAsC;AACpC,YAAMC,UAAU,GAAG,MAAMR,cAAc,CAACI,IAAI,CAACA,IAAL,CAAUK,GAAX,CAAvC;AACA,UAAIC,SAAS,GAAG,MAAMF,UAAU,CAAC,CAAD,CAAV,CAAcE,SAApC,CAFoC,CAGpC;;AACA,YAAMC,iBAAiB,GAAG,MAAMV,WAAW,CAACS,SAAD,CAA3C,CAJoC,CAKpC;;AACAJ,MAAAA,QAAQ,CAACK,iBAAD,CAAR;AACD,KARa,CASd;;;AACA,QAAIP,IAAI,CAACA,IAAT,EAAe;AACbG,MAAAA,oBAAoB;AACrB;AACF,GAbQ,EAaN,EAbM,CAAT,CAJmB,CAkBnB;;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,cAEGF,KAAK,GACJA,KAAK,CAACO,GAAN,CAAWC,IAAD,iBAAU,QAAC,IAAD;AAAwB,MAAA,MAAM,EAAEA,IAAI,CAACC,MAArC;AAA6C,MAAA,UAAU,EAAED,IAAI,CAACE;AAA9D,OAAWF,IAAI,CAACC,MAAhB;AAAA;AAAA;AAAA;AAAA,YAApB,CADI,gBAGJ,QAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;;GA7BQX,S;;KAAAA,S;AA+BT,eAAeA,SAAf","sourcesContent":["import Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport Usercontext from \"../context/user\";\r\nimport { findActiveUser, getAllPosts } from \"../services/firebase\";\r\nimport Post from \"./Post\";\r\n\r\nfunction Dashboard() {\r\n  const user = useContext(Usercontext);\r\n  const [posts, setPosts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getAllFollowingPosts() {\r\n      const activeUser = await findActiveUser(user.user.uid);\r\n      let following = await activeUser[0].following;\r\n      // console.log(follower[0].following);\r\n      const allfollowingPosts = await getAllPosts(following);\r\n      // console.log(allfollowingPosts);\r\n      setPosts(allfollowingPosts);\r\n    }\r\n    // console.log(\"userid\", userId);\r\n    if (user.user) {\r\n      getAllFollowingPosts();\r\n    }\r\n  }, []);\r\n  // console.log(posts);\r\n  return (\r\n    <div className=\"dashboard\">\r\n    \r\n      {posts ? (\r\n        posts.map((post) => <Post key={post.postId} postId={post.postId} uploaderId={post.user_uid} />)\r\n      ) : (\r\n        <Post post={null} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}