{"ast":null,"code":"import _regeneratorRuntime from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Favorite,Message}from\"@material-ui/icons\";import\"./myPost.css\";import{MyPosts,profileUser}from\"../services/firebase\";import Skeleton from\"@material-ui/lab/Skeleton\";import Usercontext from\"../context/user\";import PostShow from\"./PostShow\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyPost(_ref){var uid=_ref.uid,setMyPostNo=_ref.setMyPostNo;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),ProfileUser=_useState4[0],setProfileUser=_useState4[1];useEffect(function(){function getMyPosts(){return _getMyPosts.apply(this,arguments);}// console.log(\"userid\", userId);\nfunction _getMyPosts(){_getMyPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,posts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return profileUser(uid);case 2:response=_context.sent;_context.next=5;return MyPosts(uid);case 5:posts=_context.sent;// console.log(response);\nsetProfileUser(response);setPosts(posts);setMyPostNo(posts.length);case 9:case\"end\":return _context.stop();}}},_callee);}));return _getMyPosts.apply(this,arguments);}if(uid){getMyPosts();}},[uid]);// console.log(profileUser);\n// console.log(posts);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"myPost\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"myPost__photo\",children:posts?posts.length===0?/*#__PURE__*/_jsx(\"h3\",{children:\" No posts currently please post something..\"}):posts.map(function(post){return/*#__PURE__*/_jsx(PostShow,{post:post,postId:post.postId},post.postId);}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"myPost__photo__image\",children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rect\",width:150,height:750})}),/*#__PURE__*/_jsx(\"div\",{className:\"myPost__photo__image\",children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rect\",width:150,height:750})}),/*#__PURE__*/_jsx(\"div\",{className:\"myPost__photo__image\",children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rect\",width:150,height:750})}),/*#__PURE__*/_jsx(\"div\",{className:\"myPost__photo__image\",children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rect\",width:150,height:750})})]})}),/*#__PURE__*/_jsx(\"div\",{})]});}export default MyPost;","map":{"version":3,"sources":["G:/projects/photogram/src/components/MyPost.js"],"names":["React","useEffect","useState","Favorite","Message","MyPosts","profileUser","Skeleton","Usercontext","PostShow","MyPost","uid","setMyPostNo","posts","setPosts","ProfileUser","setProfileUser","getMyPosts","response","length","map","post","postId"],"mappings":"iaAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,OAAnB,KAAkC,oBAAlC,CACA,MAAO,cAAP,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,sBAArC,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,6IAEA,QAASC,CAAAA,MAAT,MAAsC,IAApBC,CAAAA,GAAoB,MAApBA,GAAoB,CAAfC,WAAe,MAAfA,WAAe,CACpC,cAA0BV,QAAQ,CAAC,IAAD,CAAlC,wCAAOW,KAAP,eAAcC,QAAd,eACA,eAAsCZ,QAAQ,CAAC,IAAD,CAA9C,yCAAOa,WAAP,eAAoBC,cAApB,eAGAf,SAAS,CAAC,UAAM,SACCgB,CAAAA,UADD,6CASd;AATc,2FACd,4KACyBX,CAAAA,WAAW,CAACK,GAAD,CADpC,QACQO,QADR,qCAEsBb,CAAAA,OAAO,CAACM,GAAD,CAF7B,QAEQE,KAFR,eAGE;AACAG,cAAc,CAACE,QAAD,CAAd,CACAJ,QAAQ,CAACD,KAAD,CAAR,CACAD,WAAW,CAACC,KAAK,CAACM,MAAP,CAAX,CANF,sDADc,6CAUd,GAAIR,GAAJ,CAAS,CACPM,UAAU,GACX,CACF,CAbQ,CAaN,CAACN,GAAD,CAbM,CAAT,CAcA;AACA;AAEA,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,SAAS,CAAC,eAAf,UACGE,KAAK,CACJA,KAAK,CAACM,MAAN,GAAiB,CAAjB,cACE,mEADF,CAGEN,KAAK,CAACO,GAAN,CAAU,SAACC,IAAD,qBACT,KAAC,QAAD,EAAU,IAAI,CAAEA,IAAhB,CAAwC,MAAM,CAAEA,IAAI,CAACC,MAArD,EAA2BD,IAAI,CAACC,MAAhC,CADS,EAAV,CAJE,cAUJ,wCACE,YAAK,SAAS,CAAC,sBAAf,uBACE,KAAC,QAAD,EAAU,OAAO,CAAC,MAAlB,CAAyB,KAAK,CAAE,GAAhC,CAAqC,MAAM,CAAE,GAA7C,EADF,EADF,cAIE,YAAK,SAAS,CAAC,sBAAf,uBACE,KAAC,QAAD,EAAU,OAAO,CAAC,MAAlB,CAAyB,KAAK,CAAE,GAAhC,CAAqC,MAAM,CAAE,GAA7C,EADF,EAJF,cAOE,YAAK,SAAS,CAAC,sBAAf,uBACE,KAAC,QAAD,EAAU,OAAO,CAAC,MAAlB,CAAyB,KAAK,CAAE,GAAhC,CAAqC,MAAM,CAAE,GAA7C,EADF,EAPF,cAUE,YAAK,SAAS,CAAC,sBAAf,uBACE,KAAC,QAAD,EAAU,OAAO,CAAC,MAAlB,CAAyB,KAAK,CAAE,GAAhC,CAAqC,MAAM,CAAE,GAA7C,EADF,EAVF,GAXJ,EADF,cA4BE,cA5BF,GADF,CAgCD,CAED,cAAeZ,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Favorite, Message } from \"@material-ui/icons\";\r\nimport \"./myPost.css\";\r\nimport { MyPosts, profileUser } from \"../services/firebase\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport Usercontext from \"../context/user\";\r\nimport PostShow from \"./PostShow\";\r\n\r\nfunction MyPost({ uid, setMyPostNo }) {\r\n  const [posts, setPosts] = useState(null);\r\n  const [ProfileUser, setProfileUser] = useState(null);\r\n  \r\n\r\n  useEffect(() => {\r\n    async function getMyPosts() {\r\n      const response = await profileUser(uid);\r\n      const posts = await MyPosts(uid);\r\n      // console.log(response);\r\n      setProfileUser(response);\r\n      setPosts(posts);\r\n      setMyPostNo(posts.length);\r\n    }\r\n    // console.log(\"userid\", userId);\r\n    if (uid) {\r\n      getMyPosts();\r\n    }\r\n  }, [uid]);\r\n  // console.log(profileUser);\r\n  // console.log(posts);\r\n\r\n  return (\r\n    <div className=\"myPost\">\r\n      <div className=\"myPost__photo\">\r\n        {posts ? (\r\n          posts.length === 0 ? (\r\n            <h3> No posts currently please post something..</h3>\r\n          ) : (\r\n            posts.map((post) => (\r\n             <PostShow post={post} key={post.postId} postId={post.postId}/>\r\n  \r\n            ))\r\n          )\r\n        ) : (\r\n          <>\r\n            <div className=\"myPost__photo__image\">\r\n              <Skeleton variant=\"rect\" width={150} height={750} />\r\n            </div>\r\n            <div className=\"myPost__photo__image\">\r\n              <Skeleton variant=\"rect\" width={150} height={750} />\r\n            </div>\r\n            <div className=\"myPost__photo__image\">\r\n              <Skeleton variant=\"rect\" width={150} height={750} />\r\n            </div>\r\n            <div className=\"myPost__photo__image\">\r\n              <Skeleton variant=\"rect\" width={150} height={750} />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyPost;\r\n"]},"metadata":{},"sourceType":"module"}