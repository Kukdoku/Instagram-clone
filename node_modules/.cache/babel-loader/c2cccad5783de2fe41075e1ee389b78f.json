{"ast":null,"code":"import _regeneratorRuntime from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"G:/projects/photogram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Avatar}from\"@material-ui/core\";import Skeleton from\"@material-ui/lab/Skeleton\";import React,{useState,useContext,useEffect}from\"react\";import Usercontext from\"../context/user\";import\"./followerbar.css\";import firebase from\"firebase\";import{db,auth,storage}from\"../firebase\";import FollowerBarData from\"./FollowerBarData\";import{findActiveUser,getFollowingProfile}from\"../services/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FollowerBar(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),following=_useState2[0],setFollowing=_useState2[1];var user=useContext(Usercontext);// const [activeUser, setActiveUser] = useState(null);\nvar arr=[1,2,3,4,5,6,7,8,9,10,11,12];useEffect(function(){function getMyFollowing(){return _getMyFollowing.apply(this,arguments);}function _getMyFollowing(){_getMyFollowing=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,following,followingResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return findActiveUser(user.user.uid);case 2:response=_context.sent;_context.next=5;return response[0].following;case 5:following=_context.sent;_context.next=8;return getFollowingProfile(following);case 8:followingResponse=_context.sent;// console.log(\"followingResponse\", followingResponse);\nsetFollowing(followingResponse);case 10:case\"end\":return _context.stop();}}},_callee);}));return _getMyFollowing.apply(this,arguments);}if(user.user){getMyFollowing();}},[user]);// console.log(following);\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"followerBar\",children:following?following.map(function(follow){return/*#__PURE__*/_jsx(FollowerBarData,{follow:follow},follow.postId);}):arr.map(function(t){return/*#__PURE__*/_jsxs(\"div\",{className:\"followerBar__follower\",children:[/*#__PURE__*/_jsx(Skeleton,{variant:\"circle\",width:40,height:40}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\"})]},t);})});}export default FollowerBar;","map":{"version":3,"sources":["G:/projects/photogram/src/components/FollowerBar.js"],"names":["Avatar","Skeleton","React","useState","useContext","useEffect","Usercontext","firebase","db","auth","storage","FollowerBarData","findActiveUser","getFollowingProfile","FollowerBar","following","setFollowing","user","arr","getMyFollowing","uid","response","followingResponse","map","follow","postId","t"],"mappings":"iaAAA,OAASA,MAAT,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAO,mBAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAASC,EAAT,CAAaC,IAAb,CAAmBC,OAAnB,KAAkC,aAAlC,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAASC,cAAT,CAAyBC,mBAAzB,KAAoD,sBAApD,C,wFAEA,QAASC,CAAAA,WAAT,EAAuB,CACrB,cAAkCX,QAAQ,CAAC,IAAD,CAA1C,wCAAOY,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,IAAI,CAAGb,UAAU,CAACE,WAAD,CAAvB,CACA;AAEA,GAAIY,CAAAA,GAAG,CAAG,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAAa,CAAb,CAAgB,CAAhB,CAAmB,CAAnB,CAAsB,CAAtB,CAAyB,CAAzB,CAA4B,EAA5B,CAAgC,EAAhC,CAAoC,EAApC,CAAV,CAEAb,SAAS,CAAC,UAAM,SACCc,CAAAA,cADD,oJACd,kMACyBP,CAAAA,cAAc,CAACK,IAAI,CAACA,IAAL,CAAUG,GAAX,CADvC,QACQC,QADR,qCAE0BA,CAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYN,SAFtC,QAEQA,SAFR,qCAIkCF,CAAAA,mBAAmB,CAACE,SAAD,CAJrD,QAIQO,iBAJR,eAKE;AACAN,YAAY,CAACM,iBAAD,CAAZ,CANF,uDADc,iDAUd,GAAIL,IAAI,CAACA,IAAT,CAAe,CACbE,cAAc,GACf,CACF,CAbQ,CAaN,CAACF,IAAD,CAbM,CAAT,CAcA;AAEA,mBACE,YAAK,SAAS,CAAC,aAAf,UACGF,SAAS,CACNA,SAAS,CAACQ,GAAV,CAAc,SAACC,MAAD,qBACZ,KAAC,eAAD,EAAiB,MAAM,CAAEA,MAAzB,EAAsCA,MAAM,CAACC,MAA7C,CADY,EAAd,CADM,CAINP,GAAG,CAACK,GAAJ,CAAQ,SAACG,CAAD,qBACN,aAAK,SAAS,CAAC,uBAAf,wBACE,KAAC,QAAD,EAAU,OAAO,CAAC,QAAlB,CAA2B,KAAK,CAAE,EAAlC,CAAsC,MAAM,CAAE,EAA9C,EADF,cAEE,KAAC,QAAD,EAAU,OAAO,CAAC,MAAlB,EAFF,GAA4CA,CAA5C,CADM,EAAR,CALN,EADF,CAcD,CAED,cAAeZ,CAAAA,WAAf","sourcesContent":["import { Avatar } from \"@material-ui/core\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport Usercontext from \"../context/user\";\r\nimport \"./followerbar.css\";\r\nimport firebase from \"firebase\";\r\nimport { db, auth, storage } from \"../firebase\";\r\nimport FollowerBarData from \"./FollowerBarData\";\r\nimport { findActiveUser, getFollowingProfile } from \"../services/firebase\";\r\n\r\nfunction FollowerBar() {\r\n  const [following, setFollowing] = useState(null);\r\n  const user = useContext(Usercontext);\r\n  // const [activeUser, setActiveUser] = useState(null);\r\n\r\n  let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n\r\n  useEffect(() => {\r\n    async function getMyFollowing() {\r\n      const response = await findActiveUser(user.user.uid);\r\n      const following = await response[0].following;\r\n      // console.log(following);\r\n      const followingResponse = await getFollowingProfile(following);\r\n      // console.log(\"followingResponse\", followingResponse);\r\n      setFollowing(followingResponse);\r\n    }\r\n\r\n    if (user.user) {\r\n      getMyFollowing();\r\n    }\r\n  }, [user]);\r\n  // console.log(following);\r\n\r\n  return (\r\n    <div className=\"followerBar\">\r\n      {following\r\n        ? following.map((follow) => (\r\n            <FollowerBarData follow={follow} key={follow.postId} />\r\n          ))\r\n        : arr.map((t) => (\r\n            <div className=\"followerBar__follower\" key={t}>\r\n              <Skeleton variant=\"circle\" width={40} height={40} />\r\n              <Skeleton variant=\"text\" />\r\n            </div>\r\n          ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FollowerBar;\r\n"]},"metadata":{},"sourceType":"module"}