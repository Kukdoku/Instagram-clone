{"version":3,"sources":["images/unnamed.png","pages/Login.js"],"names":["Login","history","useHistory","user","useContext","Usercontext","useState","email","setEmail","password","setPassword","error","setError","handleLogin","event","a","preventDefault","firebase","auth","signInWithEmailAndPassword","push","ROUTES","window","location","reload","message","useEffect","document","title","style","textAlign","className","src","LoginImage","alt","color","onSubmit","type","value","onChange","e","target","placeholder","marginTop","marginBottom","variant","disabled","sytle","to"],"mappings":"yGAAe,QAA0B,qC,oMC2F1BA,UAjFf,WACE,IAAMC,EAAUC,cACVC,EAAOC,qBAAWC,KACxB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KAEA,EAA0BJ,oBAAS,GAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAEMC,EAAW,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DAClBD,EAAME,iBADY,kBAWVC,IAASC,OAAOC,2BAA2BZ,EAAOE,GAXxC,OAYhBR,EAAQmB,KAAKC,KACbC,OAAOC,SAASC,SAbA,gDAehBhB,EAAS,IACTE,EAAY,IACZE,EAAS,KAAMa,SAjBC,yDAAH,sDAwBjB,OAJAC,qBAAU,WACRC,SAASC,MAAQ,oBAChB,IAEIzB,EAAKA,KACV,oBAAG0B,MAAO,CAAEC,UAAW,UAAvB,UACG,IADH,4CAKA,sBAAKC,UAAU,QAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAKC,IAAKC,IAAYC,IAAI,cAAcH,UAAU,kBAEpD,sBAAKA,UAAU,eAAf,UACE,oBAAIF,MAAO,CAAEC,UAAW,UAAxB,oBACA,mBAAGD,MAAO,CAAEM,MAAO,OAAnB,SAA6BxB,IAC7B,uBAAMyB,SAAUvB,EAAakB,UAAU,cAAvC,UACE,cAAC,IAAD,CACEM,KAAK,OACLC,MAAO/B,EACPgC,SAAU,SAACC,GAAD,OAAOhC,EAASgC,EAAEC,OAAOH,QACnCI,YAAY,oBAGd,cAAC,IAAD,CACEL,KAAK,WACLC,MAAO7B,EACP8B,SAAU,SAACC,GAAD,OAAO9B,EAAY8B,EAAEC,OAAOH,QACtCI,YAAY,aACZb,MAAO,CAAEc,UAAW,OAAQC,aAAc,UAE5C,cAAC,IAAD,CACEP,KAAK,SACLQ,QAAQ,YACRhB,MAAO,CAAEe,aAAc,QACvBE,UAAWrC,IAAaF,EAJ1B,sBASF,oBAAGwC,MAAO,CAAEJ,UAAW,QAAvB,qCAC0B,oDAD1B,iBAEE,6CAEF,oBAAGI,MAAO,CAAEJ,UAAW,QAAvB,mCACwB,cAAC,IAAD,CAAMK,GAAI3B,IAAV","file":"static/js/11.a3e92586.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/unnamed.a1db3f1a.png\";","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport \"./login.css\";\r\nimport LoginImage from \"../images/unnamed.png\";\r\nimport firebase from \"firebase\";\r\nimport { db, auth } from \"../firebase\";\r\nimport Usercontext from \"../context/user\";\r\nimport { Button, Input } from \"@material-ui/core\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const user = useContext(Usercontext);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [error, setError] = useState(true);\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // firebase.auth().signInWithEmailAndPassword(emailAddress, password).then(() =>\r\n    //    history.push(ROUTES.DASHBOARD)\r\n    // ).catch((error) => {\r\n    //        setEmailAddress(\"\");\r\n    //   setPassword(\"\");\r\n    //   setError(error.message);\r\n    // })\r\n    try {\r\n      await firebase.auth().signInWithEmailAndPassword(email, password);\r\n      history.push(ROUTES.HOME);\r\n      window.location.reload();\r\n    } catch (error) {\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n      setError(error.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    document.title = \"photogram-Login\";\r\n  }, []);\r\n\r\n  return user.user ? (\r\n    <p style={{ textAlign: \"center\" }}>\r\n      {\" \"}\r\n      logout first then then enter this page\r\n    </p>\r\n  ) : (\r\n    <div className=\"login\">\r\n      <div className=\"login__left\">\r\n        <img src={LoginImage} alt=\"login image\" className=\"login_image\" />\r\n      </div>\r\n      <div className=\"login__right\">\r\n        <h2 style={{ textAlign: \"center\" }}> Login</h2>\r\n        <p style={{ color: \"red\" }}>{error}</p>\r\n        <form onSubmit={handleLogin} className=\"login__form\">\r\n          <Input\r\n            type=\"text\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            placeholder=\"Email Address :\"\r\n          />\r\n\r\n          <Input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Password :\"\r\n            style={{ marginTop: \"10px\", marginBottom: \"10px\" }}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            style={{ marginBottom: \"10px\" }}\r\n            disabled={!password || !email}\r\n          >\r\n            Login\r\n          </Button>\r\n        </form>\r\n        <p sytle={{ marginTop: \"10px\" }}>\r\n          for guest user emailId: <b>guestuser@gmail.com</b> and password:\r\n          <b>123456789</b>\r\n        </p>\r\n        <p sytle={{ marginTop: \"10px\" }}>\r\n          Don't Have an account <Link to={ROUTES.SIGN_UP}>SignUp</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}