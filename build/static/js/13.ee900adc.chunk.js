(this.webpackJsonpphotogram=this.webpackJsonpphotogram||[]).push([[13],{278:function(e,t,n){"use strict";n.r(t);var i=n(119),r=n(7),a=n.n(r),c=n(18),s=n(38),o=n(2),l=n(124),d=n(39),p=n.p+"static/media/notFound.a4d44b49.gif",u=n.p+"static/media/loading.c7d9f081.gif",j=n(53),x=n(27),m=n(261),h=n(262),b=n(263),f=n(265),g=n(266),O=n(267),y=n(268),v=n(269),w=n(270),k=n(11),S=n(123),U=n.n(S),z=n(6);t.default=function(){var e=Object(o.useContext)(d.a),t=window.location.href.split("/image/")[1],n=Object(o.useState)(null),r=Object(s.a)(n,2),S=r[0],C=r[1],D=Object(o.useState)(null),L=Object(s.a)(D,2),T=(L[0],L[1],Object(o.useState)([])),F=Object(s.a)(T,2),P=F[0],I=F[1],E=Object(o.useState)(!0),R=Object(s.a)(E,2),N=R[0],B=(R[1],Object(o.useState)("")),J=Object(s.a)(B,2),V=J[0],_=J[1];Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(a.a.mark((function e(){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.i)(t);case 2:return n=e.sent,e.next=5,Object(j.f)(t);case 5:return i=e.sent,e.next=8,n.onSnapshot((function(e){C(e.data())}));case 8:return e.next=10,i.onSnapshot((function(e){I(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==t&&function(){e.apply(this,arguments)}()}),[t]);var W=function(){var n=Object(c.a)(a.a.mark((function n(r){var c,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=8;break}return c=S.liked,(s=c.indexOf(e.user.uid))>-1&&c.splice(s,1),n.next=6,k.a.firestore().collection("photos").doc(t).update({liked:c});case 6:n.next=10;break;case 8:return n.next=10,k.a.firestore().collection("photos").doc(t).update({liked:[].concat(Object(i.a)(S.liked),[e.user.uid])});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return[].concat(Object(i.a)(P),[{comment:V,commentUser:e.user.username,timestamp:k.a.firestore.FieldValue.serverTimestamp(),commentUserUid:e.user.uid}]),n.next=3,k.a.firestore().collection("photos").doc(t).collection("comments").add({comment:V,commentUser:e.user.displayName,timestamp:k.a.firestore.FieldValue.serverTimestamp(),commentUserUid:e.user.uid});case 3:_("");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return N?S&&e?Object(z.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"60% 40%"},className:"individualImage",children:[Object(z.jsx)("div",{style:{},children:"video"===S.type?Object(z.jsx)(U.a,{url:S.fileUrl,controls:"true",width:"100%",height:"89vh",style:{width:"100%",height:"89vh",objectFit:"contain"}}):Object(z.jsx)("img",{src:S.fileUrl,alt:"post Image",style:{width:"100%",height:"89vh",border:"1px solid black",objectFit:"contain"}})}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px"},children:[Object(z.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(z.jsxs)("div",{style:{marginLeft:"10px"},children:[Object(z.jsx)(x.b,{to:"/profile/".concat(S.user_uid),children:Object(z.jsx)("h5",{children:S.username})}),Object(z.jsx)("p",{style:{fontSize:"10px",color:"gray"},children:S.timestamp.toDate().toDateString()})]})}),Object(z.jsx)(x.b,{to:"/profile/".concat(S.user_uid),style:{textDecoration:"none"},children:"Profile"})]}),Object(z.jsx)("div",{children:Object(z.jsxs)("p",{style:{marginBottom:"10px",borderBottom:"1px solid black",fontSize:"14px",padding:"10px"},children:[Object(z.jsx)("b",{children:"caption: "}),S.caption,Object(z.jsx)("span",{style:{color:"gray",fontSize:"13px",marginLeft:"6px"},children:"Update my Profile Pic at"===S.caption?S.timestamp.toDate().toDateString():null})]})}),Object(z.jsx)("div",{style:{margin:"10px 10px 10px 15px",overflow:"scroll",overflowX:"hidden",height:"55vh"},children:P.map((function(e){var t=e.data,n=e.id;return Object(z.jsx)("div",{style:{display:"flex",margin:"5px 7px 9px 5px "},children:Object(z.jsxs)("p",{children:[Object(z.jsxs)("span",{style:{color:"#610909",fontSize:"15px",fontWeight:"bold",marginRight:"5px"},children:[t?Object(z.jsxs)(x.b,{to:"/profile/".concat(t.commentUserUid),style:{textDecoration:"none"},children:[t.commentUser," "]}):null," ",":"]}),Object(z.jsxs)("span",{style:{fontSize:"15px",color:"#4a4747"},children:[t?t.comment:null," "]}),Object(z.jsx)("span",{style:{color:"gray",fontSize:"10px"},children:t&&t.timestamp?t.timestamp.toDate().toDateString():null})]})},n)}))}),Object(z.jsxs)("div",{style:{position:"fixed",bottom:"0px",width:"40vw",backgroundColor:"#b7bdb9",borderTop:"2px solid gray"},children:[Object(z.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px 10px 0 10px"},children:[Object(z.jsxs)("div",{children:[S.liked.includes(e.user.uid)?Object(z.jsx)(m.a,{style:{marginLeft:"10px",marginRight:"10px",color:"red",cursor:"pointer"},onClick:function(){return W(!0)}}):Object(z.jsx)(h.a,{style:{marginLeft:"10px",marginRight:"10px",cursor:"pointer"},onClick:function(){return W(!1)}}),Object(z.jsx)(b.a,{})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)(f.a,{url:window.location.href,hashtag:"#StupidProgrammer",children:Object(z.jsx)(g.a,{size:25,round:!0})}),Object(z.jsx)(O.a,{url:window.location.href,hashtag:"#StupidProgrammer",children:Object(z.jsx)(y.a,{size:25,round:!0,style:{marginLeft:"5px",marginRight:"5px"}})}),Object(z.jsx)(v.a,{url:window.location.href,hashtag:"#StupidProgrammer",children:Object(z.jsx)(w.a,{size:25,round:!0})})]})]}),Object(z.jsxs)("p",{style:{marginLeft:"10px",color:"gray",marginTop:"-5px",fontSize:"10px"},children:[S.liked.length," likes ",P.length," comments"]}),Object(z.jsx)(l.a,{maxLength:200,style:{width:"100vw",backgroundColor:"gray"},value:V,onChange:_,cleanOnEnter:!0,onEnter:X,placeholder:"Type a message and Enter "})]})]})]}):Object(z.jsx)("div",{style:{marginLeft:"14vw",marginTop:"5vh"},children:Object(z.jsx)("img",{src:p,alt:"page Not Found Try with valid link",style:{width:"70vw"}})}):Object(z.jsx)("img",{src:u,alt:"image is loading..",style:{marginLeft:"40%",marginTop:"20vh",width:"50px"}})}}}]);
//# sourceMappingURL=13.ee900adc.chunk.js.map